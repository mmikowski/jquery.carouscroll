<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
  <!-- see http://www.html5rocks.com/en/mobile/touch.html
    prevents native zooming -->
  <meta name="viewport" content="width=device-width user-scalable=no
  initial-scale=1.0,maximum-scale=1.0"/>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <!-- ie9+ rendering support for latest standards -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>jquery.carouscroll plugin test</title>
  <style>

  /** The body settings minimize Mac OSX / iOS
   *  elastic scrolling (grumble, grumble).
   *  See http://www.smilingsouls.net/Blog/20110804114957.html.
   *  More accommodations have been made for iOS in the JavaScript.
  */
  body {
    position         : absolute;
    top              : 0;
    left             : 0;
    right            : 0;
    bottom           : 0;
    color            : #666;
    overflow-x       : hidden;
    overflow-y       : hidden;
    overflow         : hidden;
    font             : normal 16px Arial, Helvetica, sans-serif;
  }

  /** BEGIN block text selects except inside inputs and paragraphs
    See http://stackoverflow.com/questions/826782/\
      css-rule-to-disable-text-selection-highlighting
    Notice IE needs onselectstart = function(){ return false; }
  */

  input, textarea, .user-select {
    -webkit-user-select: text;
    -khtml-user-select : text;
    -moz-user-select   : text;
    -o-user-select     : text;
    user-select        : text;
  }

  /** BEGIN block text selects and dragging */
  * {
    box-sizing          : border-box;

    -webkit-user-select : none;
    -khtml-user-select  : none;
    -moz-user-select    : -moz-none;
    -o-user-select      : none;
    user-select         : none;


    -webkit-user-drag   : none;
    -moz-user-drag      : none;
    user-drag           : none;

    /** turn off tap highlights on iOS */
    -webkit-touch-callout : none;
    -webkit-tap-highlight-color : transparent;
  }
  /** END block text selects and dragging */

  .jqcsx {
    position : relative;
    width  : 24.5rem;
    height : 28.5rem ;
    border : 1px solid #666;
  }
  .jqcsx-_head_ {
    position : absolute;
    top      : 0;
    left     : 0;
    right    : 0;
    height   : 3rem;
    line-height : 3rem;
    background-color: #faa;
  }
  .jqcsx-_head_main_,
  .jqcsx-_head_inc_l_,
  .jqcsx-_head_inc_r_ {
    position : absolute;
    top    : 0;
    bottom : 0;
  }
  .jqcsx-_head_main_ {
    left  : 1.5rem;
    right : 1.5rem;
  }
  .jqcsx-_head_inc_l_,
  .jqcsx-_head_inc_r_ {
    width      : 1.5rem;
    font-size  : 1.5rem;
    text-align : center;
    cursor : pointer;
  }
  .jqcsx-_head_inc_l_ { left  : 0; }
  .jqcsx-_head_inc_r_ { right : 0; }

  .jqcsx-_si_btm_,
  .jqcsx-_si_top_ {
    position   : absolute;
    left       : 0;
    right      : 0;
    text-align : center;
    height     : 1rem;
    background : #888;
    color      : #fff;
  }
  .jqcsx-_si_top_ {
    top        : 3rem;
  }
  .jqcsx-_si_btm_ {
    bottom : 0;
  }
  .jqcsx-_box_ {
    position : absolute;
    top : 4rem;
    bottom : 1rem;
    left : 0;
    right : 0;
    overflow-x : hidden;
    overflow-y : auto;
  }
  .jqcsx-_box_ h1 {
    padding : 0 2rem;
    margin  : .5rem 0 .5rem 0;
  }
  .jqcsx-_box_ p {
    padding : 0 2rem;
    margin  : .5rem 0 .5rem 0;
  }

  .jqcsx-_head_main_ .jqcsx-x-t0,
  .jqcsx-_head_main_ .jqcsx-x-t6 {
    position : absolute;
    top     : 0;
    height  : 3rem;
    width : 15%;
    overflow: hidden;
    opacity : .2;
    font-weight : 200;
    font-size : 1rem;
    z-index : 0;
    /* background: rgba( 255, 255, 255, .4 ); */
    transition : all 0.35s ease;
  }
  .jqcsx-_head_main_ .jqcsx-x-t0 {
    left : 0;
    text-align : left;
  }
  .jqcsx-_head_main_ .jqcsx-x-t6 {
    right : 0;
    text-align : right;
    direction : rtl;
  }

  .jqcsx-_head_main_ .jqcsx-x-t1,
  .jqcsx-_head_main_ .jqcsx-x-t5 {
    position : absolute;
    top     : 0;
    height  : 3rem;
    width   : 20%;
    overflow: hidden;
    opacity : .3;
    font-weight : 400;
    font-size : 1.25rem;
    z-index : 1;
    /* background: rgba( 255, 255, 255, .6 ); */
    transition : all 0.35s ease;
  }
  .jqcsx-_head_main_ .jqcsx-x-t1 {
    left : 5%;
    text-align : left;
  }
  .jqcsx-_head_main_ .jqcsx-x-t5 {
    right : 5%;
    text-align : right;
    direction : rtl;
  }

  .jqcsx-_head_main_ .jqcsx-x-t2,
  .jqcsx-_head_main_ .jqcsx-x-t4 {
    position : absolute;
    top     : 0;
    height  : 3rem;
    width : 25%;
    overflow: hidden;
    opacity     : .5;
    font-weight : 600;
    font-size   : 1.75rem;
    z-index : 2;
    /* background: rgba( 255, 255, 255, .8 ); */
    transition : all 0.35s ease;
  }
  .jqcsx-_head_main_ .jqcsx-x-t2 {
    left : 10%;
    text-align : left;
  }
  .jqcsx-_head_main_ .jqcsx-x-t4 {
    right : 10%;
    text-align : right;
    direction : rtl;
  }

  .jqcsx-_head_main_ .jqcsx-x-t3 {
    position : absolute;
    left     : 50%;
    margin-left: -30%;
    width    : 60%;
    top     : 0;
    height  : 3rem;
    opacity     : 1;
    font-weight : 800;
    font-size   : 2.2rem;
    text-align : center;
    z-index : 3;
    color : #fff;
    /* background: rgba( 255, 255, 255, 1 );*/
    transition : all 0.35s ease;
  }
  </style>
  <script
    src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"
  ></script>
  <!-- script src="jquery.carouscroll.js"></script -->
  <script>
  $(function () {
    'use strict';
    var
      divOffsetInt = 0,
      $headDivList = $( '.jqcsx-_head_main_ > div' ),
      $box         = $( '.jqcsx-_box_' ),
      $sectionList = $box.children( 'h1' ),
      divCount     = $headDivList.length,

      moveDivs
      ;

    moveDivs = function ( inc_int ) {

      var i, orig_int, next_int, orig_class_str,
        next_class_str, offset_map, scroll_num;

      for ( i = 0; i < divCount; i++ ) {

        // get orig class string
        orig_int = i + divOffsetInt;
        console.warn( divCount, divOffsetInt, orig_int );
        if ( orig_int >= divCount ) { orig_int -= divCount; }
        else if ( orig_int < 0 ) { orig_int += divCount; }
        orig_class_str = 'jqcsx-x-t' + String( orig_int );

        // get next class string
        if ( inc_int !== 0 ) {

          next_int = i + divOffsetInt + inc_int;

          if ( next_int >= divCount ) { next_int -= divCount; }
          else if ( next_int < 0 ) { next_int += divCount; }
          next_class_str = 'jqcsx-x-t' + String( next_int );

          if ( next_int === 3 ) {
            console.warn( divOffsetInt );
          }
        }
        // if there is no change, just set to orig_class
        else {
          next_class_str = orig_class_str;
          orig_class_str = '';
        }

        // now update the classes
        $headDivList.eq( i )
          .addClass( next_class_str )
          .removeClass( orig_class_str );
      }
      
      // Increment offset for next round
      divOffsetInt += inc_int;
      if ( divOffsetInt >= divCount ) { divOffsetInt -= divCount }
      else if ( divOffsetInt < 0 ) { divOffsetInt += divCount }
    };

    moveDivs( 0 );

    $('.jqcsx-_head_inc_l_' ).on( 'click', function ( /*event_obj */ ){
      moveDivs( 1 );
    });

    $('.jqcsx-_head_inc_r_' ).on( 'click', function ( /*event_obj */ ){
      moveDivs( -1 );
    });

  });
  </script>
</head>
<body>
  <div class="jqcsx">
    <div class="jqcsx-_head_">
      <div class="jqcsx-_head_inc_l_">&lt;</div>
      <div class="jqcsx-_head_main_">
        <div>Software</div>
        <div>Hardware</div>
        <div>Config</div>
        <div>Summary</div>
        <div>Health</div>
        <div>Monitor</div>
        <div>Contacts</div>
      </div>
      <div class="jqcsx-_head_inc_r_">&gt;</div>
    </div>
    <div class="jqcsx-_si_top_">xxx</div>
    <div class="jqcsx-_box_">
      <h1>Summary</h1>
      <p>asdflkj asdflkjasd flakjf asfdlkkjasd
      lkjsad flkasjd faklfj asdlkfj aslkfj asfdlkj
      qwperoiferpoisdfa asdpoia sdfpasdoi fasdpasfdoi
      asdfdlkajsdf lkaj aselkfj aslkfj aslfkjas fas
      zkmdfkpqwckpfok epf peofk ldmvlkvasd ;lmjg ef
      </p>
      <h1>Health</h1>
      <p>zkmdfkpqwckpfok epf peofk ldmvlkvasd ;lmjg ef
      lkjsad flkasjd faklfj asdlkfj aslkfj asfdlkj
      qwperoiferpoisdfa asdpoia sdfpasdoi fasdpasfdoi
      asdfdlkajsdf lkaj aselkfj aslkfj aslfkjas fas
      zkmdfkpqwckpfok epf peofk ldmvlkvasd ;lmjg ef
      </p>
      <h1>Monitor</h1>
      <p>zkmdfkpqwckpfok epf peofk ldmvlkvasd ;lmjg ef
      lkjsad flkasjd faklfj asdlkfj aslkfj asfdlkj
      qwperoiferpoisdfa asdpoia sdfpasdoi fasdpasfdoi
      asdfdlkajsdf lkaj aselkfj aslkfj aslfkjas fas
      zkmdfkpqwckpfok epf peofk ldmvlkvasd ;lmjg ef
      </p>
    </div>
    <div class="jqcsx-_si_btm_ jqcsx-_x_active_">xxx</div>
  </div>
</body>
</html>
